{% extends "base.html" %}
{% block content %}

<h1>{{ object.titulo }}</h1>
<a href="{% url 'eventos:crear' %}" class="btn btn-success mb-3">Crear nuevo evento</a>

{% if object.imagen %}
  <img src="{{ object.imagen.url }}" class="img-fluid mb-3">
{% endif %}

<p>{{ object.descripcion }}</p>
<p><strong>Fecha:</strong> {{ object.fecha }}</p>
<p><strong>Lugar:</strong> {{ object.lugar }}</p>
<p><strong>Tipo:</strong> {{ object.get_tipo_display }}</p>
<p><strong>Privado:</strong> {{ object.privado }}</p>

<hr>

<div class="mt-3">

  {# Botón Editar — solo para usuarios con permiso de cambio #}
  {% if user.is_authenticated %}
      {% for perm in user.get_all_permissions %}
          {% if perm == "eventos.change_event" %}
              <a href="{% url 'eventos:editar' object.pk %}" class="btn btn-warning">Editar</a>
          {% endif %}
      {% endfor %}
  {% endif %}

  {# Botón Eliminar — solo para usuarios con permiso de eliminación #}
  {% if user.is_authenticated %}
      {% for perm in user.get_all_permissions %}
          {% if perm == "eventos.delete_event" %}
              <a href="{% url 'eventos:eliminar' object.pk %}" class="btn btn-danger ms-2">Eliminar</a>
          {% endif %}
      {% endfor %}
  {% endif %}

  
  <a href="{% url 'eventos:listado' %}" class="btn btn-secondary ms-2">Volver</a>

</div>

{% endblock %}
